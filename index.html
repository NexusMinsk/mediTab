<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Meditab | –ó–∞–≥—Ä—É–∑–∫–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #182231;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        /* –°–µ—Ç–∫–∞ —Ç–æ—á–µ–∫ –Ω–∞ —Ñ–æ–Ω–µ */
        .bg-dots {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(207, 121, 17, 0.03) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, rgba(207, 121, 17, 0.03) 2px, transparent 2px);
            background-size: 60px 60px;
            z-index: -1;
            opacity: 0.5;
        }

        .loading-container {
            text-align: center;
            width: 90%;
            max-width: 400px;
            padding: 40px 30px;
            position: relative;
        }

        /* –õ–æ–≥–æ—Ç–∏–ø –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞ */
        .logo-img {
            width: 250px;
            height: auto;
            margin-bottom: 20px;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        /* –î–µ–ª–∞–µ–º –ª–æ–≥–æ –±–µ–ª—ã–º, –µ—Å–ª–∏ –æ–Ω–æ —Ç–µ–º–Ω–æ–µ */
        .logo-img.dark-logo {
            filter: brightness(0) invert(1);
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            letter-spacing: 1px;
            margin-bottom: 50px;
            text-transform: uppercase;
            font-weight: 300;
        }

        .loader-wrapper {
            position: relative;
            width: 100%;
            margin: 20px 0 30px;
        }

        .loader {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }

        .loader-fill {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #cf7911, #ff9d3d);
            border-radius: 2px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(207, 121, 17, 0.3);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –≤–æ–ª–Ω—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ */
        .loader-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: wave 1s infinite linear;
        }

        @keyframes wave {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .percentage {
            font-size: 1.8rem;
            color: white;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-weight: 300;
            text-shadow: 0 0 10px rgba(207, 121, 17, 0.2);
        }

        .status-wrapper {
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-top: 20px;
        }

        .status {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç–æ—á–µ–∫ */
        .dots {
            display: flex;
            gap: 4px;
        }

        .dot {
            width: 4px;
            height: 4px;
            background: #cf7911;
            border-radius: 50%;
            opacity: 0.2;
        }

        .dot:nth-child(1) { animation: dotPulse 1.5s infinite; }
        .dot:nth-child(2) { animation: dotPulse 1.5s infinite 0.2s; }
        .dot:nth-child(3) { animation: dotPulse 1.5s infinite 0.4s; }

        @keyframes dotPulse {
            0%, 100% { 
                opacity: 0.2;
                transform: scale(0.8);
            }
            50% { 
                opacity: 1;
                transform: scale(1.2);
            }
        }

        /* –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ */
        body.fade-out {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        /* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ */
        .click-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.3);
            font-size: 0.75rem;
            animation: floatUpDown 3s infinite ease-in-out;
            cursor: pointer;
            user-select: none;
        }

        @keyframes floatUpDown {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        .click-hint:hover {
            color: rgba(255, 255, 255, 0.5);
        }

        /* –í—Å–ø—ã—à–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ */
        .click-flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            pointer-events: none;
            opacity: 0;
            z-index: 100;
        }

        /* –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏ —É—Å–∫–æ—Ä–µ–Ω–∏–∏ */
        .med-icon {
            position: absolute;
            font-size: 20px;
            opacity: 0;
            pointer-events: none;
        }

        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã */
        @media (max-width: 600px) {
            .logo-img {
                width: 200px;
            }
            
            .percentage {
                font-size: 1.5rem;
            }
            
            .loading-container {
                padding: 30px 20px;
            }
        }
    </style>
</head>

<body>
    <div class="bg-dots"></div>
    
    <div class="loading-container">
        <!-- –ó–ê–ú–ï–ù–ò–õ –¢–ï–ö–°–¢ –ù–ê –õ–û–ì–û–¢–ò–ü -->
        <img src="logo-meditab.svg" class="logo-img dark-logo" alt="Meditab" onerror="this.onerror=null; this.src='https://placehold.co/250x70/182231/ffffff?text=Meditab'; this.classList.remove('dark-logo')">
        
        <div class="subtitle">–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</div>
        
        <div class="loader-wrapper">
            <div class="loader">
                <div class="loader-fill" id="loaderFill"></div>
            </div>
        </div>
        
        <div class="percentage" id="percentage">0%</div>
        
        <div class="status-wrapper">
            <div class="status" id="status">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã</div>
            <div class="dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
        
        <div class="click-hint" id="clickHint">–ö–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è ‚ö°</div>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const loaderFill = document.getElementById('loaderFill');
        const percentage = document.getElementById('percentage');
        const status = document.getElementById('status');
        const clickHint = document.getElementById('clickHint');
        
        // –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
        const medIcons = ['üíä', 'ü©∫', 'üíâ', 'üè•', 'üî¨'];
        
        // –°—Ç–∞—Ç—É—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–µ–±–æ–ª—å—à–∏–º —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º
        const statusMessages = [
            "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã",
            "–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤",
            "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö",
            "–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏",
            "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏",
            "–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ"
        ];
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        let progress = 0;
        const totalTime = 2800; // 2.8 —Å–µ–∫—É–Ω–¥—ã
        const interval = 30;
        const steps = totalTime / interval;
        const increment = 100 / steps;
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–µ—Ç–∞—é—â–µ–π –∏–∫–æ–Ω–∫–∏
        function createMedIcon(x, y) {
            const icon = document.createElement('div');
            icon.className = 'med-icon';
            icon.textContent = medIcons[Math.floor(Math.random() * medIcons.length)];
            icon.style.left = x + 'px';
            icon.style.top = y + 'px';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
            const angle = Math.random() * Math.PI * 2;
            const distance = 50 + Math.random() * 80;
            const duration = 800 + Math.random() * 400;
            
            icon.style.animation = `
                flyUp ${duration}ms ease-out forwards
            `;
            
            document.body.appendChild(icon);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                icon.remove();
            }, duration);
            
            return icon;
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
        const flyUpKeyframes = `
            @keyframes flyUp {
                0% {
                    transform: translate(0, 0) rotate(0deg) scale(1);
                    opacity: 0.8;
                }
                100% {
                    transform: translate(${Math.cos(Math.random() * Math.PI * 2) * 100}px, -150px) rotate(${Math.random() * 360}deg) scale(0.5);
                    opacity: 0;
                }
            }
        `;
        
        // –î–æ–±–∞–≤–ª—è–µ–º keyframes –≤ –¥–æ–∫—É–º–µ–Ω—Ç
        const styleSheet = document.createElement('style');
        styleSheet.textContent = flyUpKeyframes;
        document.head.appendChild(styleSheet);
        
        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –≤—Å–ø—ã—à–∫–∏
        function createFlash() {
            const flash = document.createElement('div');
            flash.className = 'click-flash';
            document.body.appendChild(flash);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Å–ø—ã—à–∫–∏
            flash.animate([
                { opacity: 0.3 },
                { opacity: 0 }
            ], {
                duration: 300,
                easing: 'ease-out'
            });
            
            setTimeout(() => flash.remove(), 300);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            if (progress < 100) {
                progress = Math.min(progress + increment, 100);
                const roundedProgress = Math.floor(progress);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                loaderFill.style.width = `${roundedProgress}%`;
                percentage.textContent = `${roundedProgress}%`;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
                const statusIndex = Math.min(Math.floor(progress / 17), statusMessages.length - 1);
                if (status.textContent !== statusMessages[statusIndex]) {
                    status.textContent = statusMessages[statusIndex];
                    
                    // –õ–µ–≥–∫–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞
                    status.style.opacity = '0.5';
                    setTimeout(() => {
                        status.style.opacity = '1';
                    }, 150);
                }
                
                // –°–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä
                setTimeout(updateProgress, interval);
            } else {
                // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
                loaderFill.style.width = '100%';
                percentage.textContent = '100%';
                status.textContent = "–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ";
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
                loaderFill.style.boxShadow = '0 0 15px rgba(207, 121, 17, 0.5)';
                
                // –ü–ª–∞–≤–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ
                setTimeout(() => {
                    document.body.classList.add('fade-out');
                }, 500);
                
                // –í–ê–ñ–ù–û: –†–ï–î–ò–†–ï–ö–¢ –ù–ê home222partners.html
                setTimeout(() => {
                    window.location.href = 'home222partners.html';
                }, 800);
            }
        }
        
        // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å - —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ
        let clickBoost = 0;
        const maxClicks = 3;
        
        clickHint.addEventListener('click', function() {
            if (clickBoost < maxClicks && progress < 95) {
                clickBoost++;
                progress = Math.min(progress + 8, 95);
                
                // –ê–Ω–∏–º–∞—Ü–∏–∏
                createFlash();
                
                // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∫–æ–Ω–æ–∫
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        createMedIcon(
                            Math.random() * window.innerWidth,
                            Math.random() * window.innerHeight
                        );
                    }, i * 100);
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
                const boostsLeft = maxClicks - clickBoost;
                if (boostsLeft > 0) {
                    clickHint.textContent = `–£—Å–∫–æ—Ä–µ–Ω–∏–µ ${clickBoost}/3 ‚ö° (–æ—Å—Ç–∞–ª–æ—Å—å ${boostsLeft})`;
                } else {
                    clickHint.textContent = '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ! üöÄ';
                    clickHint.style.opacity = '0.5';
                }
                
                // –í—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
                status.textContent = "‚ö° –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞...";
                status.style.color = '#ff9d3d';
                
                setTimeout(() => {
                    status.style.color = '';
                }, 1000);
            }
        });
        
        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const preloadLink = document.createElement('link');
        preloadLink.rel = 'prefetch';
        preloadLink.href = 'home222partners.html';
        document.head.appendChild(preloadLink);
        
        // –ó–∞–ø—É—Å–∫
        setTimeout(() => {
            updateProgress();
        }, 300);
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–∏ 90%
        function updateHintVisibility() {
            if (progress > 90) {
                clickHint.style.opacity = '0';
                clickHint.style.pointerEvents = 'none';
            }
        }
        
        // –§–æ–ª–ª–±–µ–∫ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => {
            if (progress < 100) {
                document.body.classList.add('fade-out');
                setTimeout(() => {
                    window.location.href = 'home222partners.html';
                }, 500);
            }
        }, 4000);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏
        setInterval(updateHintVisibility, 100);
    </script>
</body>
</html>
