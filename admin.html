<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #f0f2f5;
            padding: 20px;
        }
        
        .header {
            background: #2d3748;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #2d3748;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #4a5568;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #cbd5e0;
            border-radius: 5px;
            font-size: 16px;
        }
        
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .btn {
            background: #4a6fa5;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
            margin-top: 10px;
        }
        
        .btn-success {
            background: #38a169;
        }
        
        .btn-danger {
            background: #e53e3e;
        }
        
        .btn:hover {
            opacity: 0.9;
        }
        
        .section {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid #e2e8f0;
        }
        
        .product-list {
            margin-top: 30px;
        }
        
        .product-item {
            background: white;
            padding: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .product-actions button {
            margin-left: 10px;
            padding: 5px 10px;
            font-size: 14px;
        }
        
        .spec-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .spec-row input {
            flex: 1;
        }
        
        .add-spec {
            background: #cbd5e0;
            color: #2d3748;
            padding: 5px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚öôÔ∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
        <a href="index.html" style="color: white; text-decoration: none;">‚Üê –ù–∞ —Å–∞–π—Ç</a>
    </div>
    
    <div class="container">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä</h2>
        
        <form id="productForm">
            <!-- –†–∞–∑–¥–µ–ª 1: –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            <div class="section">
                <h3>üì± –î–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞</h3>
                
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏):</label>
                    <input type="text" id="cardTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ù–æ—É—Ç–±—É–∫ Acer" required>
                </div>

                <div class="form-group">
    <label class="form-label" for="productCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞:</label>
    <select id="productCategory" class="form-input" required>
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --</option>
        <option value="clothing">üë®‚Äç‚öïÔ∏è –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</option>
        <option value="tonometers">‚ù§Ô∏è –¢–æ–Ω–æ–º–µ—Ç—Ä—ã</option>
        <option value="diabetes">üíâ –î–∏–∞–±–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã</option>
        <option value="orthopedic">ü¶¥ –û—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è</option>
        <option value="gynecology">üë© –ì–∏–Ω–µ–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã</option>
        <option value="compression">üß¶ –ö–æ–º–ø—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ç—Ä–∏–∫–æ—Ç–∞–∂</option>
        <option value="optics">üëÅÔ∏è –û–ø—Ç–∏–∫–∞</option>
        <option value="tests">üß™ –≠–∫—Å–ø—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã</option>
    </select>
</div>
                
                <div class="form-group">
                    <label>–¶–µ–Ω–∞:</label>
                    <input type="text" id="cardPrice" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2500 BYN" required>
                </div>
                
                <div class="form-group">
                    <label>–ì–ª–∞–≤–Ω–æ–µ —Ñ–æ—Ç–æ (URL):</label>
                    <input type="text" id="cardImage" placeholder="https://example.com/photo.jpg" 
                           value="https://placehold.co/400x300/e2e8f0/475569?text=–§–æ—Ç–æ+—Ç–æ–≤–∞—Ä–∞">
                </div>
                
                <div class="form-group">
                    <label>–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="cardDesc" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏..." required></textarea>
                </div>
            </div>
            
            <!-- –†–∞–∑–¥–µ–ª 2: –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="section">
                <h3>üìÑ –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ü–æ–¥—Ä–æ–±–Ω–µ–µ"</h3>
                
                <div class="form-group">
                    <label>–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</label>
                    <input type="text" id="pageTitle" placeholder="–ü–æ–ª–Ω–æ–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ...">
                </div>
                
                <div class="form-group">
                    <label>–ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ (URL, –∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):</label>
                    <textarea id="pageGallery" placeholder="https://example.com/photo1.jpg
https://example.com/photo2.jpg"></textarea>
                </div>
                
                <div class="form-group">
                    <label>–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="pageDesc" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
                </div>
                
                <div class="form-group">
                    <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</label>
                    <div id="specsContainer">
                        <div class="spec-row">
                            <input type="text" class="spec-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏">
                            <input type="text" class="spec-value" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ">
                            <button type="button" class="add-spec" onclick="addSpecField()">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ (YouTube):</label>
                    <input type="text" id="pageVideo" placeholder="https://youtube.com/watch?v=...">
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div style="text-align: center; margin-top: 30px;">
                <button type="button" class="btn" onclick="saveDraft()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫</button>
                <button type="submit" class="btn btn-success">üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</button>
                <button type="button" class="btn btn-danger" onclick="clearForm()">‚ùå –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
            </div>
        </form>
        
        <!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div class="product-list">
            <h3>üì¶ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã</h3>
            <div id="productsList">
                <!-- –°—é–¥–∞ –≤—Å—Ç–∞–≤–∏–º —Ç–æ–≤–∞—Ä—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        let editingProductId = null;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadProductsList);
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
        function loadProductsList() {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const listEl = document.getElementById('productsList');
            
            if (products.length === 0) {
                listEl.innerHTML = '<p>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</p>';
                return;
            }
            
            listEl.innerHTML = products.map(product => `
                <div class="product-item">
                    <div>
                        <strong>${product.card.title}</strong><br>
                        <small>${product.card.price} ‚Ä¢ ID: ${product.id}</small>
                    </div>
                    <div class="product-actions">
                        <button class="btn" onclick="editProduct(${product.id})">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-danger" onclick="deleteProduct(${product.id})">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                </div>
            `).join('');
        }
        
        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
        function addSpecField() {
            const container = document.getElementById('specsContainer');
            const div = document.createElement('div');
            div.className = 'spec-row';
            div.innerHTML = `
                <input type="text" class="spec-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏">
                <input type="text" class="spec-value" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ">
                <button type="button" onclick="this.parentElement.remove()" style="background:#e53e3e;color:white;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;">√ó</button>
            `;
            container.appendChild(div);
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
        function saveDraft() {
            alert('–ß–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ LocalStorage');
            // –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ
        }
        
        // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        function clearForm() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—é —Ñ–æ—Ä–º—É?')) {
                document.getElementById('productForm').reset();
                editingProductId = null;
                // –û—á–∏—â–∞–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
                const container = document.getElementById('specsContainer');
                container.innerHTML = `
                    <div class="spec-row">
                        <input type="text" class="spec-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏">
                        <input type="text" class="spec-value" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ">
                        <button type="button" class="add-spec" onclick="addSpecField()">+</button>
                    </div>
                `;
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –°–æ–±–∏—Ä–∞–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            const specs = [];
            document.querySelectorAll('.spec-row').forEach(row => {
                const name = row.querySelector('.spec-name').value;
                const value = row.querySelector('.spec-value').value;
                if (name && value) {
                    specs.push({ name, value });
                }
            });
            
            // –°–æ–±–∏—Ä–∞–µ–º –≥–∞–ª–µ—Ä–µ—é
            const gallery = document.getElementById('pageGallery').value
                .split('\n')
                .filter(url => url.trim() !== '')
                .map(url => url.trim());
            
            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Ç–æ–≤–∞—Ä–∞
            const product = {
                id: editingProductId || Date.now(),
                category: document.getElementById('productCategory').value, // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–∏–π ID –∏–ª–∏ –Ω–æ–≤—ã–π
                card: {
                    title: document.getElementById('cardTitle').value,
                    price: document.getElementById('cardPrice').value,
                    image: document.getElementById('cardImage').value,
                    short_desc: document.getElementById('cardDesc').value
                },
                page: {
                    full_title: document.getElementById('pageTitle').value || document.getElementById('cardTitle').value,
                    gallery: gallery,
                    description: document.getElementById('pageDesc').value,
                    specs: specs,
                    video: document.getElementById('pageVideo').value
                }
            };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ LocalStorage
            let products = JSON.parse(localStorage.getItem('products')) || [];
            
            if (editingProductId) {
                // –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
                const index = products.findIndex(p => p.id == editingProductId);
                if (index !== -1) {
                    products[index] = product;
                }
            } else {
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π
                products.push(product);
            }
            
            localStorage.setItem('products', JSON.stringify(products));
            
            alert(editingProductId ? '–¢–æ–≤–∞—Ä –æ–±–Ω–æ–≤–ª–µ–Ω!' : '–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω!');
            clearForm();
            loadProductsList();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –µ—Å–ª–∏ –æ–Ω–∞ –æ—Ç–∫—Ä—ã—Ç–∞
            if (window.opener) {
                window.opener.location.reload();
            }
        });
        
        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        function editProduct(id) {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const product = products.find(p => p.id == id);
            
            if (!product) {
                alert('–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }
            
            editingProductId = id;
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞
            document.getElementById('cardTitle').value = product.card.title;
            document.getElementById('cardPrice').value = product.card.price;
            document.getElementById('cardImage').value = product.card.image;
            document.getElementById('cardDesc').value = product.card.short_desc;
            
            document.getElementById('pageTitle').value = product.page.full_title;
            document.getElementById('pageGallery').value = product.page.gallery.join('\n');
            document.getElementById('pageDesc').value = product.page.description;
            document.getElementById('pageVideo').value = product.page.video || '';
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
            const container = document.getElementById('specsContainer');
            container.innerHTML = '';
            product.page.specs.forEach(spec => {
                addSpecField();
                const rows = container.querySelectorAll('.spec-row');
                const lastRow = rows[rows.length - 1];
                lastRow.querySelector('.spec-name').value = spec.name;
                lastRow.querySelector('.spec-value').value = spec.value;
            });
            
            if (product.page.specs.length === 0) {
                addSpecField(); // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç–æ–µ –ø–æ–ª–µ –µ—Å–ª–∏ –Ω–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
            }
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ñ–æ—Ä–º–µ
            document.getElementById('cardTitle').focus();
            alert('–†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. ID —Ç–æ–≤–∞—Ä–∞: ' + id);
        }
        
        // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        function deleteProduct(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?')) {
                let products = JSON.parse(localStorage.getItem('products')) || [];
                products = products.filter(p => p.id != id);
                localStorage.setItem('products', JSON.stringify(products));
                loadProductsList();
                alert('–¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω!');
                
                if (editingProductId == id) {
                    clearForm();
                }
            }
        }
    </script>
</body>
</html>
